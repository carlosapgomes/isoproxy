# Isoproxy Safe Pass-Through Configuration Example
#
# Designed for sandboxed environments (papercage integration)
# This proxy does not attempt to make model output safe.
# Safety comes from: sandboxing (papercage), filesystem isolation, human review, version control.
# The proxy's role is to be boring, predictable, and hard to misuse by accident.

# Provider Selection (must be in allowlist)
PROXY_PROVIDER=anthropic

# Providers Configuration (JSON format)
# Each provider needs an endpoint and api_key_env
PROXY_PROVIDERS={
  "anthropic": {
    "endpoint": "https://api.anthropic.com",
    "api_key_env": "ANTHROPIC_API_KEY"
  }
}

# Resource Limits (MUST enforce)
PROXY_MAX_REQUEST_BYTES=5242880    # 5MB
PROXY_MAX_RESPONSE_BYTES=20971520  # 20MB  
PROXY_TIMEOUT_SECONDS=300          # 5 minutes

# Server Configuration
# NOTE: For papercage integration, start with --uds flag instead of HTTP
PROXY_HOST=127.0.0.1  # Only used for HTTP mode (development/testing)
PROXY_PORT=9000       # Only used for HTTP mode (development/testing)

# Logging Configuration
PROXY_LOGGING_MODE=metadata  # off | metadata | debug

# Provider API Keys (separate environment variables)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Recommended deployment modes:
# Production (papercage): uvicorn isoproxy.main:app --uds /run/isoproxy/isoproxy.sock
# Development: uvicorn isoproxy.main:app --host 127.0.0.1 --port 9000